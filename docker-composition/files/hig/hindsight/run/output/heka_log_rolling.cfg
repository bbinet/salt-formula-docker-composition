filename = "heka_log_rolling.lua"
message_matcher = "{{ cfg['message_matcher'] }}"

-- Override of default sandbox configuration variables
{%- for key in ['output_limit', 'memory_limit', 'instruction_limit', 'preserve_data', 'restricted_headers', 'ticker_interval', 'shutdown_on_terminate', 'remove_checkpoints_on_terminate', 'read_queue'] %}
{%- if key in cfg %}
    {%- if key in ['read_queue'] %}
{{ key }} = "{{ cfg[key] }}"
    {%- else %}
{{ key }} = {{ cfg[key] }}
    {%- endif %}
{%- endif %}
{%- endfor %}

{% if 'output_dir' in cfg -%}
output_dir = "{{ cfg['output_dir'] }}"
{% endif -%}
roll_size = {{ cfg.get('roll_size', '1e9') }}
